<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Vishnu Freelance — Premium Services</title>

<!-- Google Font + Font Awesome -->
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
/* ------------------------------
   Reset & Base
   ------------------------------ */
:root{
  --bg:#f4f4f9;
  --card:#fff;
  --primary:#1e3a8a;     /* deep blue */
  --accent:#facc15;      /* yellow */
  --muted:#666;
  --glass: rgba(255,255,255,0.06);
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family:"Roboto",sans-serif;
  background:var(--bg);
  color:#222;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  line-height:1.45;
  transition:background .28s,color .28s;
}

/* Dark mode */
body.dark{ --bg:#0b1020; --card:#0f1724; --primary:#60a5fa; --accent:#f59e0b; --muted:#9aa6c0; color:#e6eef8; }

/* container */
.container{max-width:1150px;margin:0 auto;padding:0 18px}

/* ------------------------------
   NAVBAR
   ------------------------------ */
nav{
  position:sticky;top:0;z-index:1200;
  backdrop-filter: blur(6px);
  background: linear-gradient(180deg, rgba(30,58,138,0.95), rgba(30,58,138,0.9));
  box-shadow:0 8px 30px rgba(12,23,63,0.25);
  display:flex;align-items:center;justify-content:space-between;padding:14px 18px;
}
.brand{
  display:flex;gap:12px;align-items:center;
}
.logo-svg{width:54px;height:54px;display:block}
.site-name{color:var(--accent);font-weight:800;letter-spacing:0.4px}
nav .menu{display:flex;gap:18px;list-style:none;align-items:center}
nav .menu a{
  color:#fff;padding:8px 6px;border-radius:6px;font-weight:700;text-decoration:none;transition:all .18s;
}
nav .menu a.active, nav .menu a:hover{color:var(--accent);transform:translateY(-2px)}
/* hamburger */
.hamburger{display:none;flex-direction:column;gap:5px;cursor:pointer}
.hamburger span{width:26px;height:3px;background:#fff;border-radius:3px;display:block;transition:all .22s}
@media(max-width:880px){
  nav .menu{position:fixed;right:-100%;top:72px;background:linear-gradient(180deg, rgba(30,58,138,0.98), rgba(24,46,102,0.98));height:calc(100vh - 72px);width:260px;flex-direction:column;padding:24px;border-left:1px solid rgba(255,255,255,0.03);transition:right .28s}
  nav .menu.show{right:0}
  .hamburger{display:flex}
}

/* ------------------------------
   HERO
   ------------------------------ */
.hero{
  min-height:84vh;display:flex;align-items:center;justify-content:center;padding:60px 18px;position:relative;overflow:hidden;
  color:white;text-align:center;
  background:linear-gradient(135deg,#0f172a 0%,#1e293b 40%, rgba(124,58,237,0.25) 100%);
}
.hero::after{
  content:"";position:absolute;inset:0;background:
    radial-gradient( circle at 10% 10%, rgba(255,255,255,0.04), transparent 10%),
    radial-gradient( circle at 90% 90%, rgba(250,204,21,0.03), transparent 15%);
  pointer-events:none;
}
.hero .content{max-width:960px;z-index:2;padding:10px}
.hero h1{font-size:2.2rem;margin-bottom:12px;line-height:1.05}
.hero .typing{display:inline-block;color:var(--accent);font-weight:900;border-right:2px solid rgba(255,255,255,0.12);padding-right:6px}
.hero p{color:rgba(255,255,255,0.9);margin-bottom:20px}
.cta{display:inline-flex;align-items:center;gap:10px;background:var(--accent);color:#06203a;padding:12px 18px;border-radius:12px;font-weight:800;box-shadow:0 10px 30px rgba(250,204,21,0.18);border:none;cursor:pointer}

/* small animated particles */
.particles{position:absolute;inset:0;pointer-events:none;opacity:0.5}
.particle{position:absolute;border-radius:50%;background:rgba(255,255,255,0.06);box-shadow:0 8px 30px rgba(10,20,40,0.12);}

/* ------------------------------
   SECTIONS & CARDS
   ------------------------------ */
section{padding:72px 0}
.section-title{text-align:center;margin-bottom:34px}
h2.section-title{color:var(--primary);font-size:1.85rem}
.grid{display:grid;gap:18px}

/* Services cards */
.services-grid{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.card{
  background:var(--card);padding:22px;border-radius:14px;box-shadow:0 6px 24px rgba(8,14,30,0.06);transition:transform .28s,box-shadow .28s;
  display:flex;flex-direction:column;align-items:flex-start;gap:12px;
}
.card .icon{font-size:28px;color:var(--primary);background:linear-gradient(180deg,rgba(30,58,138,0.06),transparent);padding:10px;border-radius:10px}
.card h3{font-size:1.05rem;margin-bottom:0}
.card p{color:var(--muted);font-size:0.95rem}
.price{margin-left:auto;font-weight:900;color:var(--primary)}

/* hover */
.card:hover{transform:translateY(-8px);box-shadow:0 18px 40px rgba(6,12,28,0.12)}

/* ------------------------------
   PORTFOLIO
   ------------------------------ */
.portfolio-grid{grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}
.portfolio-grid img{width:100%;height:160px;object-fit:cover;border-radius:12px;display:block;cursor:pointer;transition:transform .28s,box-shadow .28s}
.portfolio-grid img:hover{transform:scale(1.06);box-shadow:0 14px 34px rgba(12,20,40,0.14)}

/* lightbox */
.lightbox{
  position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(2,6,23,0.85);z-index:1500;opacity:0;pointer-events:none;transition:opacity .18s;
}
.lightbox.show{opacity:1;pointer-events:auto}
.lightbox img{max-width:92%;max-height:86%;border-radius:10px;box-shadow:0 18px 60px rgba(2,6,23,0.6)}

/* ------------------------------
   SKILLS (progress stripes)
   ------------------------------ */
.skills-grid{grid-template-columns:repeat(auto-fit,minmax(240px,1fr));align-items:start}
.skill{
  background:var(--card);padding:18px;border-radius:12px;position:relative;overflow:hidden;
  box-shadow:0 6px 26px rgba(8,14,30,0.06)
}
.skill h4{margin-bottom:8px}
.bar{
  height:16px;background:linear-gradient(90deg,#e6edf8,#f3f6fb);border-radius:10px;overflow:hidden;position:relative
}
.progress{
  height:100%;width:0;border-radius:10px;position:relative;display:flex;align-items:center;justify-content:flex-end;padding-right:8px;font-weight:800;color:#06203a;
  transition:width 1.4s cubic-bezier(.2,.8,.2,1),background-position 1s linear;
  background-size:200% 200%;
}
/* Default colored gradients (will be inline-styled in HTML for variety) */
.percent{
  position:absolute;right:16px;top:14px;font-weight:800;color:var(--primary)
}

/* animated diagonal stripe overlay using repeating-linear-gradient */
.progress.stripes{
  background-image: repeating-linear-gradient(
    -45deg,
    rgba(255,255,255,0.14) 0 10px,
    rgba(255,255,255,0.04) 10px 20px
  ), linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  background-blend-mode:overlay;
  animation:stripeMove 1.6s linear infinite;
}
@keyframes stripeMove{from{background-position:0 0}to{background-position:30px 0}}

/* percentage bubble inside bar (for contrast) */
.progress .bubble{font-size:0.82rem;background:rgba(255,255,255,0.18);padding:3px 8px;border-radius:999px;margin-right:6px;color:#06203a}

/* ------------------------------
   CONTACT & FOOTER
   ------------------------------ */
.form{display:flex;flex-direction:column;gap:12px;border-radius:12px}
input,select,textarea,button{font-family:inherit}
input,select,textarea{padding:12px;border-radius:10px;border:1px solid rgba(10,20,40,0.06);background:transparent}
textarea{min-height:120px;resize:vertical}
.btn-primary{background:var(--primary);color:#fff;padding:12px 14px;border-radius:10px;border:none;font-weight:800;cursor:pointer}
.contact-card{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 6px 26px rgba(8,14,30,0.06)}

/* footer */
footer{padding:26px 0;text-align:center;color:var(--muted)}

/* small helpers */
.row{display:flex;gap:12px;align-items:center}
.center{text-align:center}
.small{font-size:0.92rem;color:var(--muted)}
/* focus outline for accessibility */
a:focus,button:focus,input:focus,select:focus,textarea:focus{outline:3px solid rgba(99,102,241,0.14);outline-offset:3px}

/* responsive tweaks */
@media(max-width:720px){
  .hero h1{font-size:1.4rem}
  .portfolio-grid img{height:140px}
}
</style>
</head>
<body>

<!-- NAV -->
<nav>
  <div class="container" style="display:flex;align-items:center;justify-content:space-between;padding:0">
    <div class="brand">
      <!-- Animated SVG logo (no external file needed) -->
      <svg class="logo-svg" viewBox="0 0 100 100" role="img" aria-label="Vishnu logo">
        <defs>
          <linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#facc15"/><stop offset="1" stop-color="#60a5fa"/></linearGradient>
        </defs>
        <g transform="translate(10,10)">
          <circle cx="40" cy="40" r="32" fill="url(#g1)" />
          <path d="M20 55 Q40 20 60 55 Q40 45 20 55 Z" fill="#06203a" opacity="0.95">
            <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 40 40" to="360 40 40" dur="10s" repeatCount="indefinite"/>
          </path>
        </g>
      </svg>
      <div>
        <div class="site-name">Vishnu Services</div>
        <div class="small">Python • Excel • PPT • Tally • Notes</div>
      </div>
    </div>

    <ul class="menu" role="menubar" aria-label="Main navigation">
      <li><a href="#home" class="nav-link active">Home</a></li>
      <li><a href="#services" class="nav-link">Services</a></li>
      <li><a href="#portfolio" class="nav-link">Portfolio</a></li>
      <li><a href="#skills" class="nav-link">Skills</a></li>
      <li><a href="#contact" class="nav-link">Contact</a></li>
    </ul>

    <div class="hamburger" aria-label="Toggle menu" role="button" tabindex="0">
      <span></span><span></span><span></span>
    </div>
  </div>
</nav>

<!-- HERO -->
<header id="home" class="hero" role="banner">
  <div class="particles" aria-hidden="true">
    <div class="particle" style="width:8px;height:8px;left:12%;bottom:10%;opacity:.9"></div>
    <div class="particle" style="width:12px;height:12px;left:70%;bottom:25%;opacity:.7"></div>
    <div class="particle" style="width:6px;height:6px;left:50%;bottom:70%;opacity:.6"></div>
  </div>

  <div class="content container">
    <h1>Get premium digital help — <span class="typing" aria-hidden="true">automation, reports, presentations...</span></h1>
    <p class="small">Fast turnaround • Professional templates • Affordable prices</p>
    <div style="display:flex;gap:12px;justify-content:center">
      <a href="#contact" class="cta" role="button">Hire Me Now <i class="fas fa-arrow-right"></i></a>
      <button id="darkToggle" title="Toggle dark mode" class="btn-primary" style="background:transparent;border:2px solid rgba(255,255,255,0.12);color:#fff">Dark</button>
    </div>
  </div>
</header>

<main>

  <!-- SERVICES -->
  <section id="services" class="container" aria-labelledby="svcTitle">
    <h2 id="svcTitle" class="section-title">Our Services</h2>

    <div class="grid services-grid">
      <div class="card" tabindex="0">
        <div class="row" style="width:100%"><div class="icon"><i class="fab fa-python"></i></div><div style="margin-left:8px"><h3>Python Programming</h3><div class="small">Automation, scraping, small apps</div></div></div>
        <p>Scripts, data pipelines, custom tools — delivered with documentation.</p>
        <div style="display:flex;align-items:center;width:100%;margin-top:12px"><div class="price">₹1500–2000</div></div>
      </div>

      <div class="card" tabindex="0">
        <div class="row"><div class="icon"><i class="fas fa-file-excel"></i></div><div style="margin-left:8px"><h3>Excel / Data Entry</h3><div class="small">Pivot, formula, data cleaning</div></div></div>
        <p>Advanced formulas, dashboards, pivot tables and macros.</p>
        <div style="display:flex;align-items:center;width:100%;margin-top:12px"><div class="price">₹500–1500</div></div>
      </div>

      <div class="card" tabindex="0">
        <div class="row"><div class="icon"><i class="fas fa-file-powerpoint"></i></div><div style="margin-left:8px"><h3>PowerPoint Design</h3><div class="small">Polished slides, animations</div></div></div>
        <p>Custom templates, transitions, speaker notes and export-ready slides.</p>
        <div style="display:flex;align-items:center;width:100%;margin-top:12px"><div class="price">₹500–1200</div></div>
      </div>

      <div class="card" tabindex="0">
        <div class="row"><div class="icon"><i class="fas fa-keyboard"></i></div><div style="margin-left:8px"><h3>Word / Office Automation</h3><div class="small">Mail merge, formatting, templates</div></div></div>
        <p>Professional documents, templates, automated mail-merge solutions.</p>
        <div style="display:flex;align-items:center;width:100%;margin-top:12px"><div class="price">₹300–800</div></div>
      </div>

      <div class="card" tabindex="0">
        <div class="row"><div class="icon"><i class="fas fa-calculator"></i></div><div style="margin-left:8px"><h3>Tally Prime</h3><div class="small">Ledgers, reports, entries</div></div></div>
        <p>Accounting reports, GST summaries and customised ledger formats.</p>
        <div style="display:flex;align-items:center;width:100%;margin-top:12px"><div class="price">₹1000–2500</div></div>
      </div>

      <div class="card" tabindex="0">
        <div class="row"><div class="icon"><i class="fas fa-book"></i></div><div style="margin-left:8px"><h3>Notes Sharing</h3><div class="small">Chapter-wise notes & summaries</div></div></div>
        <p>Clear, exam-focused summaries in PDF/Doc format — quick delivery.</p>
        <div style="display:flex;align-items:center;width:100%;margin-top:12px"><div class="price">₹50–200</div></div>
      </div>
    </div>
  </section>

  <!-- PORTFOLIO -->
  <section id="portfolio" class="container" aria-labelledby="portTitle">
    <h2 id="portTitle" class="section-title">Portfolio / Samples</h2>
    <div class="grid portfolio-grid">
      <!-- Use your images in images/ folder or change src -->
      <img data-src="images/python_project.jpg" alt="Python project sample" class="lazy" />
      <img data-src="images/excel_chart.jpg" alt="Excel sample" class="lazy" />
      <img data-src="images/ppt_slide.jpg" alt="PPT sample" class="lazy" />
      <img data-src="images/word_doc.jpg" alt="Word sample" class="lazy" />
      <img data-src="images/tally_prime.jpg" alt="Tally sample" class="lazy" />
      <img data-src="images/class_notes.jpg" alt="Notes sample" class="lazy" />
    </div>
  </section>

  <!-- SKILLS -->
  <section id="skills" class="container" aria-labelledby="skillTitle">
    <h2 id="skillTitle" class="section-title">My Expertise</h2>
    <div class="grid skills-grid">
      <div class="skill">
        <h4>Python Programming</h4>
        <div class="bar"><div class="progress stripes" data-target="90" style="background:linear-gradient(90deg,#ffb86b,#f97316)"><span class="bubble">90%</span></div></div>
        <div class="percent">90%</div>
      </div>

      <div class="skill">
        <h4>Excel / Data Entry</h4>
        <div class="bar"><div class="progress stripes" data-target="95" style="background:linear-gradient(90deg,#86efac,#22c55e)"><span class="bubble">95%</span></div></div>
        <div class="percent">95%</div>
      </div>

      <div class="skill">
        <h4>PowerPoint Design</h4>
        <div class="bar"><div class="progress stripes" data-target="90" style="background:linear-gradient(90deg,#93c5fd,#3b82f6)"><span class="bubble">90%</span></div></div>
        <div class="percent">90%</div>
      </div>

      <div class="skill">
        <h4>Word / Office Automation</h4>
        <div class="bar"><div class="progress stripes" data-target="85" style="background:linear-gradient(90deg,#c4b5fd,#a855f7)"><span class="bubble">85%</span></div></div>
        <div class="percent">85%</div>
      </div>

      <div class="skill">
        <h4>Tally Prime</h4>
        <div class="bar"><div class="progress stripes" data-target="80" style="background:linear-gradient(90deg,#fca5a5,#ef4444)"><span class="bubble">80%</span></div></div>
        <div class="percent">80%</div>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="container" aria-labelledby="contactTitle">
    <h2 id="contactTitle" class="section-title">Contact / Hire</h2>

    <div style="display:grid;grid-template-columns:1fr 360px;gap:22px">
      <form id="contactForm" class="form" aria-label="Contact form">
        <input name="name" placeholder="Your name" required />
        <input name="email" type="email" placeholder="Your email" required />
        <select name="service" required>
          <option value="">Select service</option>
          <option>Python Programming</option>
          <option>Excel / Data Entry</option>
          <option>PowerPoint Design</option>
          <option>Word / Office Automation</option>
          <option>Tally Prime</option>
          <option>Notes Sharing</option>
        </select>
        <textarea name="message" placeholder="Tell me what you need..." required></textarea>
        <div style="display:flex;gap:12px;align-items:center">
          <button class="btn-primary" type="submit">Send request</button>
          <div class="small">Or email: <a href="mailto:sp8217307@gmail.com">sp8217307@gmail.com</a></div>
        </div>
      </form>

      <aside class="contact-card" aria-label="Contact details">
        <h3>Reach out</h3>
        <p class="small">Instagram: <a href="https://instagram.com/offical_vishnu______" target="_blank">@offical_vishnu______</a></p>
        <p class="small">WhatsApp: <a href="https://wa.me/918860097830" target="_blank">+91-8860097830</a></p>
        <div style="margin-top:12px">
          <strong class="small">Availability:</strong>
          <p class="small">Mon–Sat • 9:00–20:00</p>
        </div>
      </aside>
    </div>
  </section>

</main>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox" role="dialog" aria-hidden="true" tabindex="-1">
  <img src="" alt="Expanded portfolio image" />
</div>

<!-- FOOTER -->
<footer>
  <div class="container">
    <div style="display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:8px">
      <a href="#home" class="small">Home</a> | <a href="#services" class="small">Services</a> | <a href="#portfolio" class="small">Portfolio</a> | <a href="#contact" class="small">Contact</a>
    </div>
    <div class="small">© 2025 Vishnu Services — All Rights Reserved</div>
    <div style="margin-top:8px">
      <a class="small" href="https://instagram.com/offical_vishnu______" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
      <a class="small" href="https://wa.me/918860097830" target="_blank" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
      <a class="small" href="mailto:sp8217307@gmail.com" aria-label="Email"><i class="fas fa-envelope"></i></a>
    </div>
  </div>
</footer>

<!-- Scripts -->
<script>
/* ------------------------------
   Utilities & Setup
   ------------------------------ */
const $ = q => document.querySelector(q);
const $$ = q => Array.from(document.querySelectorAll(q));

/* Smooth scroll for nav links */
$$('.nav-link').forEach(a=>{
  a.addEventListener('click', e=>{
    e.preventDefault();
    document.querySelector(a.getAttribute('href')).scrollIntoView({behavior:'smooth',block:'start'});
    // close mobile menu if open
    const menu = document.querySelector('.menu');
    if(menu.classList.contains('show')) menu.classList.remove('show');
  });
});

/* Hamburger menu toggle (also keyboard accessible) */
const ham = document.querySelector('.hamburger');
const menu = document.querySelector('.menu');
ham.addEventListener('click', ()=> menu.classList.toggle('show'));
ham.addEventListener('keydown', e => { if(e.key==='Enter' || e.key===' ') menu.classList.toggle('show'); });

/* Active nav highlight on scroll using IntersectionObserver */
const sections = $$('main section, header');
const navLinks = $$('.nav-link');

const obsOptions = {root:null,rootMargin:'-20% 0px -40% 0px',threshold:0};
const observer = new IntersectionObserver((entries)=>{
  entries.forEach(entry=>{
    if(entry.isIntersecting){
      const id = entry.target.id;
      navLinks.forEach(a => a.classList.toggle('active', a.getAttribute('href') === '#' + id));
    }
  });
}, obsOptions);
sections.forEach(s => observer.observe(s));

/* Typing effect (simple) */
(function typingEffect(){
  const el = document.querySelector('.typing');
  const phrases = ['automation','reports','presentations','templates','fast delivery'];
  let i=0,j=0,forward=true,txt='';
  function step(){
    const word = phrases[i];
    if(forward){
      txt = word.slice(0, ++j);
      el.textContent = txt;
      if(j === word.length){ forward=false; setTimeout(step,900); return; }
    } else {
      txt = word.slice(0, --j);
      el.textContent = txt;
      if(j===0){ forward=true; i=(i+1)%phrases.length; }
    }
    setTimeout(step, 80);
  }
  if(el) step();
})();

/* Lazy load portfolio images with fallback to inline SVG if missing */
function svgFallback(width=600,height=360, label='Image'){
  return 'data:image/svg+xml;utf8,' + encodeURIComponent(
    `<svg xmlns="http://www.w3.org/2000/svg" width="${width}" height="${height}" viewBox="0 0 ${width} ${height}">
      <rect width="100%" height="100%" fill="#e6eefc"/>
      <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#1e3a8a" font-size="20">${label}</text>
    </svg>`);
}
document.addEventListener('DOMContentLoaded',()=>{
  const lazyImgs = $$('.lazy');
  lazyImgs.forEach(img=>{
    const src = img.getAttribute('data-src') || img.getAttribute('src');
    // set placeholder while loading
    img.src = svgFallback(600,360,'Loading...');
    const real = new Image();
    real.onload = ()=> img.src = src;
    real.onerror = ()=> img.src = svgFallback(600,360,'No image');
    real.src = src;
    // add click for lightbox
    img.addEventListener('click', ()=> openLightbox(img.src, img.alt));
  });
});

/* LIGHTBOX */
const lightbox = $('#lightbox');
const lightboxImg = lightbox.querySelector('img');
function openLightbox(src, alt){
  lightboxImg.src = src;
  lightboxImg.alt = alt || 'Expanded image';
  lightbox.classList.add('show');
  lightbox.setAttribute('aria-hidden','false');
  lightbox.focus();
}
function closeLightbox(){
  lightbox.classList.remove('show');
  lightbox.setAttribute('aria-hidden','true');
  lightboxImg.src='';
}
lightbox.addEventListener('click', (e)=> { if(e.target === lightbox || e.target === lightboxImg) closeLightbox(); });
document.addEventListener('keydown', e => { if(e.key === 'Escape') closeLightbox(); });

/* SKILLS: animated stripes + counter */
function animateSkills(){
  const progresses = $$('.progress');
  progresses.forEach(p=>{
    const target = parseInt(p.dataset.target || 0, 10);
    // animate width
    p.style.width = target + '%';
    // animate numeric inside bubble (count up)
    const bubble = p.querySelector('.bubble');
    if(bubble){
      const start = 0; const end = target;
      let cur = start;
      const step = Math.ceil(Math.max(1, end/24));
      const t = setInterval(()=>{
        cur += step;
        if(cur >= end){ cur = end; bubble.textContent = end + '%'; clearInterval(t); }
        else bubble.textContent = cur + '%';
      }, 28);
    }
  });
}
const skillsEl = document.querySelector('#skills');
if(skillsEl){
  const skillsObserver = new IntersectionObserver((entries)=>{
    entries.forEach(en=>{
      if(en.isIntersecting){ animateSkills(); skillsObserver.disconnect(); }
    });
  }, {threshold:0.25});
  skillsObserver.observe(skillsEl);
}

/* Dark mode persistent toggle */
const darkBtn = document.getElementById('darkToggle');
const body = document.body;
(function initTheme(){
  const saved = localStorage.getItem('vishnu_dark');
  if(saved === '1'){ body.classList.add('dark'); }
})();
darkBtn.addEventListener('click', ()=>{
  body.classList.toggle('dark');
  localStorage.setItem('vishnu_dark', body.classList.contains('dark') ? '1' : '0');
});

/* Contact form: submit to backend (example - replace webhookURL) */
const contactForm = document.getElementById('contactForm');
contactForm.addEventListener('submit', async function(e){
  e.preventDefault();
  const data = new FormData(contactForm);
  const payload = Object.fromEntries(data.entries());
  // UI feedback
  const btn = contactForm.querySelector('button[type="submit"]');
  const orig = btn.textContent;
  btn.textContent = 'Sending...'; btn.disabled = true;
  try{
    // === Replace webhookURL with your Google Apps Script (or server) URL ===
    const webhookURL = 'https://script.google.com/macros/s/YOUR_GOOGLE_APPS_SCRIPT_ID/exec';
    // If you don't have backend yet, the try will fail — but you can comment out fetch and show success locally
    // const resp = await fetch(webhookURL, { method: 'POST', headers: {'Content-Type':'application/json'}, body: JSON.stringify(payload) });
    // const result = await resp.json();

    // For now: simulate success if webhook not provided
    if(webhookURL.includes('YOUR_GOOGLE_APPS_SCRIPT_ID')){
      // simulate small delay
      await new Promise(res=>setTimeout(res,800));
      alert('Request sent locally. To save to Google Sheets: add your Apps Script webhook URL to the code (see instructions).');
    } else {
      // handle response from your webhook if used
      // if(result && result.status === 'success') { ... }
    }
    contactForm.reset();
  }catch(err){
    console.error(err);
    alert('There was an error sending your message. Check console for details.');
  }finally{
    btn.textContent = orig; btn.disabled = false;
  }
});

/* Scroll reveal for cards - subtle */
const revealItems = $$('.card, .portfolio-grid img, .skill');
const revealObserver = new IntersectionObserver((entries)=>{
  entries.forEach(entry=>{
    if(entry.isIntersecting){
      entry.target.style.opacity = 0;
      entry.target.style.transform = 'translateY(12px)';
      setTimeout(()=>{
        entry.target.style.transition = 'opacity .6s ease, transform .6s cubic-bezier(.2,.9,.3,1)';
        entry.target.style.opacity = 1;
        entry.target.style.transform = 'translateY(0)';
      }, 40);
      revealObserver.unobserve(entry.target);
    }
  });
}, {threshold:0.12});
revealItems.forEach(i => revealObserver.observe(i));

/* small accessibility: keep menu links focusable in mobile */
$$('.menu a').forEach(a => a.addEventListener('focus', ()=> menu.classList.add('show')));

</script>
</body>
</html>
